### Makefile for the sb_test project
### Generated by Bluespec Workstation on Thu Aug  7 15:07:46 EDT 2014

default: full_clean compile link simulate

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -sim -simdir bscOut -bdir bscOut -info-dir bscOut -keep-fires -aggressive-conditions -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./src -g mkSBTB  src/ScoreboardTB.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkSBTB -sim -o ./out -simdir bscOut -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./src -bdir bscOut -keep-fires -aggressive-conditions 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out 
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f bscOut/ChienSearch.bo bscOut/PAClib.bo bscOut/ErrorCorrector.bo bscOut/FlashController.bo bscOut/NandPhyWenNclkWrapper.bo bscOut/ReedSolomon.bo bscOut/Scoreboard.bo bscOut/ControllerTypes.bo bscOut/GFTypes.bo bscOut/Syndrome.bo bscOut/ErrorMagnitude.bo bscOut/RSEncoder.bo bscOut/NandPhyWrapper.bo bscOut/BusController.bo bscOut/Splitter.bo bscOut/NandInfraWrapper.bo bscOut/ScoreboardTB.bo bscOut/Berlekamp.bo bscOut/GFArith.bo bscOut/NandPhy.bo
	exec rm -f bscOut/mkSBTB.ba bscOut/mkBusController.ba bscOut/module_gf_add_inst.ba bscOut/mkFlashController.ba bscOut/mkRSEncoder.ba bscOut/module_gf_mult_inst.ba bscOut/mkReedSolomon.ba bscOut/module_times_alpha_n_v.ba bscOut/mkScoreboard.ba bscOut/mkNandPhy.ba
	exec rm -f bscOut/mkScoreboard.o bscOut/model_mkSBTB.o bscOut/mkSBTB.o

.PHONY: full_clean
full_clean:
	rm -f bscOut/ChienSearch.bo bscOut/PAClib.bo bscOut/ErrorCorrector.bo bscOut/FlashController.bo bscOut/NandPhyWenNclkWrapper.bo bscOut/ReedSolomon.bo bscOut/Scoreboard.bo bscOut/ControllerTypes.bo bscOut/GFTypes.bo bscOut/Syndrome.bo bscOut/ErrorMagnitude.bo bscOut/RSEncoder.bo bscOut/NandPhyWrapper.bo bscOut/BusController.bo bscOut/Splitter.bo bscOut/NandInfraWrapper.bo bscOut/ScoreboardTB.bo bscOut/Berlekamp.bo bscOut/GFArith.bo bscOut/NandPhy.bo
	rm -f bscOut/mkSBTB.ba bscOut/mkBusController.ba bscOut/module_gf_add_inst.ba bscOut/mkFlashController.ba bscOut/mkRSEncoder.ba bscOut/module_gf_mult_inst.ba bscOut/mkReedSolomon.ba bscOut/module_times_alpha_n_v.ba bscOut/mkScoreboard.ba bscOut/mkNandPhy.ba
	rm -f bscOut/mkScoreboard.o bscOut/model_mkSBTB.o bscOut/mkSBTB.o
	rm -f verilog/mkBusController.v
	rm -f verilog/module_gf_add_inst.v
	rm -f verilog/mkFlashController.v
	rm -f verilog/mkRSEncoder.v
	rm -f verilog/module_gf_mult_inst.v
	rm -f verilog/mkReedSolomon.v
	rm -f verilog/module_times_alpha_n_v.v
	rm -f verilog/mkNandPhy.v
	rm -f bscOut/mkSBTB.h bscOut/model_mkSBTB.h
	rm -f bscOut/model_mkSBTB.cxx bscOut/mkSBTB.cxx
	rm -f bscOut/mkScoreboard.h
	rm -f bscOut/mkScoreboard.cxx
